{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ckhme/my-workflow-app/app/profile/%5Bid%5D/actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { createClient } from '@/utils/supabase/server'\r\nimport { revalidatePath } from 'next/cache'\r\nimport { STAR_TOUR_AUTHORIZED_ROLES } from '../constants'\r\n\r\nexport async function updateCadetProfile(cadetId: string, formData: FormData) {\r\n  const supabase = createClient()\r\n  \r\n  // 1. Auth Check\r\n  const { data: { user } } = await supabase.auth.getUser()\r\n  if (!user) return { error: 'Unauthorized' }\r\n\r\n  // 2. Fetch Editor Permissions\r\n  const { data: editor } = await supabase\r\n    .from('profiles')\r\n    .select(`\r\n      id, \r\n      company_id, \r\n      role:role_id (\r\n        role_name, \r\n        default_role_level, \r\n        can_manage_all_rosters, \r\n        can_manage_own_company_roster\r\n      )\r\n    `)\r\n    .eq('id', user.id)\r\n    .single()\r\n\r\n  if (!editor || !editor.role) return { error: 'Unauthorized' }\r\n\r\n  const editorRole = editor.role as any\r\n  const editorLevel = editorRole.default_role_level || 0\r\n  const canManageAll = editorRole.can_manage_all_rosters\r\n  const canManageOwn = editorRole.can_manage_own_company_roster\r\n  \r\n  // 3. Fetch Target Details\r\n  const { data: target } = await supabase\r\n    .from('profiles')\r\n    .select('company_id, role:role_id(default_role_level)')\r\n    .eq('id', cadetId)\r\n    .single()\r\n\r\n  if (!target) return { error: 'Target profile not found.' }\r\n  \r\n  const targetLevel = (target.role as any)?.default_role_level || 0\r\n\r\n  // 4. HIERARCHY RULE: Cannot edit someone of equal or higher rank\r\n  if (targetLevel >= editorLevel) {\r\n    return { error: `Permission Denied: You cannot edit a user of rank level ${targetLevel} (your level is ${editorLevel}).` }\r\n  }\r\n\r\n  // 5. SCOPE RULE: Check if editor has jurisdiction\r\n  let hasPermission = false\r\n  if (canManageAll) {\r\n    hasPermission = true\r\n  } else if (canManageOwn) {\r\n    if (editor.company_id === target.company_id) {\r\n      hasPermission = true\r\n    } else {\r\n      return { error: \"Permission Denied: You can only edit profiles within your own company.\" }\r\n    }\r\n  }\r\n\r\n  if (!hasPermission) {\r\n    return { error: 'You do not have permission to edit this profile.' }\r\n  }\r\n\r\n  // 6. Prepare Updates\r\n  const updates: { [key: string]: any } = {\r\n    cadet_rank: formData.get('cadet_rank')?.toString() || null,\r\n    room_number: formData.get('room_number')?.toString() || null,\r\n    grade_level: formData.get('grade_level')?.toString() || null,\r\n    years_attended: parseInt(formData.get('years_attended')?.toString() || '0'),\r\n    probation_status: formData.get('probation_status')?.toString() || null,\r\n    sport_fall: formData.get('sport_fall')?.toString() || null,\r\n    sport_winter: formData.get('sport_winter')?.toString() || null,\r\n    sport_spring: formData.get('sport_spring')?.toString() || null,\r\n  }\r\n\r\n  // 7. SENSITIVE FIELD CHECK: Star Tours\r\n  // Only specific high-level roles can modify this field\r\n  const canManageStarTours = STAR_TOUR_AUTHORIZED_ROLES.includes(editorRole.role_name);\r\n  if (canManageStarTours) {\r\n    // Only read the checkbox if they are authorized\r\n    if (formData.has('has_star_tours')) {\r\n        updates.has_star_tours = formData.get('has_star_tours') === 'on'\r\n    }\r\n  }\r\n\r\n  const { error } = await supabase.from('profiles').update(updates).eq('id', cadetId)\r\n\r\n  if (error) {\r\n    console.error('Profile update error:', error.message)\r\n    return { error: `Update failed: ${error.message}` }\r\n  }\r\n\r\n  revalidatePath(`/profile/${cadetId}`)\r\n  revalidatePath(`/reports/daily`)\r\n  return { success: true }\r\n}\r\n\r\nexport async function submitTourAdjustment(cadetId: string, amount: number, reason: string) {\r\n  const supabase = createClient()\r\n  \r\n  // 1. Auth Check\r\n  const { data: { user } } = await supabase.auth.getUser()\r\n  if (!user) return { error: 'Unauthorized' }\r\n\r\n  // 2. Permission Check (Commandant Staff / Level 90+)\r\n  const { data: profile } = await supabase\r\n    .from('profiles')\r\n    .select('role:role_id (default_role_level)')\r\n    .eq('id', user.id)\r\n    .single()\r\n\r\n  const roleLevel = (profile?.role as any)?.default_role_level || 0\r\n  if (roleLevel < 90) {\r\n    return { error: 'Permission Denied: Only Commandant Staff can manually adjust tour balances.' }\r\n  }\r\n\r\n  if (amount === 0) return { error: 'Adjustment amount cannot be zero.' }\r\n  if (!reason) return { error: 'A reason is required for adjustments.' }\r\n\r\n  // 3. Insert Ledger Entry\r\n  const { error } = await supabase.from('tour_ledger').insert({\r\n    cadet_id: cadetId,\r\n    staff_id: user.id,\r\n    amount: amount,\r\n    action: 'adjustment',\r\n    comment: reason\r\n  })\r\n\r\n  if (error) {\r\n    console.error('Adjustment Error:', error)\r\n    return { error: error.message }\r\n  }\r\n\r\n  // 4. Revalidate\r\n  revalidatePath(`/profile/${cadetId}`)\r\n  revalidatePath(`/ledger/${cadetId}`)\r\n  \r\n  return { success: true }\r\n}"],"names":[],"mappings":";;;;;;;IAsGsB,uBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ckhme/my-workflow-app/app/profile/%5Bid%5D/actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { createClient } from '@/utils/supabase/server'\r\nimport { revalidatePath } from 'next/cache'\r\nimport { STAR_TOUR_AUTHORIZED_ROLES } from '../constants'\r\n\r\nexport async function updateCadetProfile(cadetId: string, formData: FormData) {\r\n  const supabase = createClient()\r\n  \r\n  // 1. Auth Check\r\n  const { data: { user } } = await supabase.auth.getUser()\r\n  if (!user) return { error: 'Unauthorized' }\r\n\r\n  // 2. Fetch Editor Permissions\r\n  const { data: editor } = await supabase\r\n    .from('profiles')\r\n    .select(`\r\n      id, \r\n      company_id, \r\n      role:role_id (\r\n        role_name, \r\n        default_role_level, \r\n        can_manage_all_rosters, \r\n        can_manage_own_company_roster\r\n      )\r\n    `)\r\n    .eq('id', user.id)\r\n    .single()\r\n\r\n  if (!editor || !editor.role) return { error: 'Unauthorized' }\r\n\r\n  const editorRole = editor.role as any\r\n  const editorLevel = editorRole.default_role_level || 0\r\n  const canManageAll = editorRole.can_manage_all_rosters\r\n  const canManageOwn = editorRole.can_manage_own_company_roster\r\n  \r\n  // 3. Fetch Target Details\r\n  const { data: target } = await supabase\r\n    .from('profiles')\r\n    .select('company_id, role:role_id(default_role_level)')\r\n    .eq('id', cadetId)\r\n    .single()\r\n\r\n  if (!target) return { error: 'Target profile not found.' }\r\n  \r\n  const targetLevel = (target.role as any)?.default_role_level || 0\r\n\r\n  // 4. HIERARCHY RULE: Cannot edit someone of equal or higher rank\r\n  if (targetLevel >= editorLevel) {\r\n    return { error: `Permission Denied: You cannot edit a user of rank level ${targetLevel} (your level is ${editorLevel}).` }\r\n  }\r\n\r\n  // 5. SCOPE RULE: Check if editor has jurisdiction\r\n  let hasPermission = false\r\n  if (canManageAll) {\r\n    hasPermission = true\r\n  } else if (canManageOwn) {\r\n    if (editor.company_id === target.company_id) {\r\n      hasPermission = true\r\n    } else {\r\n      return { error: \"Permission Denied: You can only edit profiles within your own company.\" }\r\n    }\r\n  }\r\n\r\n  if (!hasPermission) {\r\n    return { error: 'You do not have permission to edit this profile.' }\r\n  }\r\n\r\n  // 6. Prepare Updates\r\n  const updates: { [key: string]: any } = {\r\n    cadet_rank: formData.get('cadet_rank')?.toString() || null,\r\n    room_number: formData.get('room_number')?.toString() || null,\r\n    grade_level: formData.get('grade_level')?.toString() || null,\r\n    years_attended: parseInt(formData.get('years_attended')?.toString() || '0'),\r\n    probation_status: formData.get('probation_status')?.toString() || null,\r\n    sport_fall: formData.get('sport_fall')?.toString() || null,\r\n    sport_winter: formData.get('sport_winter')?.toString() || null,\r\n    sport_spring: formData.get('sport_spring')?.toString() || null,\r\n  }\r\n\r\n  // 7. SENSITIVE FIELD CHECK: Star Tours\r\n  // Only specific high-level roles can modify this field\r\n  const canManageStarTours = STAR_TOUR_AUTHORIZED_ROLES.includes(editorRole.role_name);\r\n  if (canManageStarTours) {\r\n    // Only read the checkbox if they are authorized\r\n    if (formData.has('has_star_tours')) {\r\n        updates.has_star_tours = formData.get('has_star_tours') === 'on'\r\n    }\r\n  }\r\n\r\n  const { error } = await supabase.from('profiles').update(updates).eq('id', cadetId)\r\n\r\n  if (error) {\r\n    console.error('Profile update error:', error.message)\r\n    return { error: `Update failed: ${error.message}` }\r\n  }\r\n\r\n  revalidatePath(`/profile/${cadetId}`)\r\n  revalidatePath(`/reports/daily`)\r\n  return { success: true }\r\n}\r\n\r\nexport async function submitTourAdjustment(cadetId: string, amount: number, reason: string) {\r\n  const supabase = createClient()\r\n  \r\n  // 1. Auth Check\r\n  const { data: { user } } = await supabase.auth.getUser()\r\n  if (!user) return { error: 'Unauthorized' }\r\n\r\n  // 2. Permission Check (Commandant Staff / Level 90+)\r\n  const { data: profile } = await supabase\r\n    .from('profiles')\r\n    .select('role:role_id (default_role_level)')\r\n    .eq('id', user.id)\r\n    .single()\r\n\r\n  const roleLevel = (profile?.role as any)?.default_role_level || 0\r\n  if (roleLevel < 90) {\r\n    return { error: 'Permission Denied: Only Commandant Staff can manually adjust tour balances.' }\r\n  }\r\n\r\n  if (amount === 0) return { error: 'Adjustment amount cannot be zero.' }\r\n  if (!reason) return { error: 'A reason is required for adjustments.' }\r\n\r\n  // 3. Insert Ledger Entry\r\n  const { error } = await supabase.from('tour_ledger').insert({\r\n    cadet_id: cadetId,\r\n    staff_id: user.id,\r\n    amount: amount,\r\n    action: 'adjustment',\r\n    comment: reason\r\n  })\r\n\r\n  if (error) {\r\n    console.error('Adjustment Error:', error)\r\n    return { error: error.message }\r\n  }\r\n\r\n  // 4. Revalidate\r\n  revalidatePath(`/profile/${cadetId}`)\r\n  revalidatePath(`/ledger/${cadetId}`)\r\n  \r\n  return { success: true }\r\n}"],"names":[],"mappings":";;;;;;;IAMsB,qBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ckhme/my-workflow-app/app/profile/constants.ts"],"sourcesContent":["export const CADET_RANKS = [\r\n  'c/PVT', 'c/PV2', 'c/PFC', 'c/CPL', 'c/SGT', 'c/SSG', 'c/SFC', 'c/MSG', 'c/1SG', 'c/SGM', 'c/CSM', \r\n  'c/2LT', 'c/1LT', 'c/CPT', 'c/MAJ', 'c/LTC', 'c/COL'\r\n];\r\n\r\nexport const FALL_SPORTS = [\r\n  'None', 'JV Football','Varsity Football', 'JV Soccer', 'Varsity Soccer', 'Cross Country', 'Swimming (Off Season)', 'PG Lacross', 'PG Basketball', 'PG Football', 'PT'\r\n];\r\n\r\nexport const WINTER_SPORTS = [\r\n  'None', 'JV Basketball', 'Varsity Basketball', 'Wrestling', 'Swimming', 'Indoor Track', 'PG Lacrosse', 'PG Basketball', 'PT' \r\n];\r\n\r\nexport const SPRING_SPORTS = [\r\n  'None', 'Baseball', 'Varsity Lacrosse', 'Track & Field', 'Tennis', 'Golf', 'PG Basketball', 'PG Lacrosse', \r\n];\r\n\r\nexport const CONDUCT_STATUSES = [\r\n  'Exemplary',\r\n  'Commendable',\r\n  'Satisfactory',\r\n  'Deficient',\r\n  'Unsatisfactory'\r\n];\r\n\r\nexport const PROBATION_STATUSES = [\r\n  'None',\r\n  'Academic',\r\n  'Disciplinary',\r\n  'Honor',\r\n  'Physical'\r\n];\r\n\r\nexport const GRADE_LEVELS = [\r\n  '7th', '8th', '9th', '10th', '11th', '12th', 'PG'\r\n];\r\n\r\n// Roles authorized to EDIT profiles\r\nexport const EDIT_AUTHORIZED_ROLES = [\r\n  'S1', \r\n  'Command Sergeant Major', \r\n  'TAC Officer', \r\n  'Deputy Commandant', \r\n  'Commandant', \r\n  'Admin'\r\n];\r\n\r\n// Roles authorized to manage Star Tours\r\nexport const STAR_TOUR_AUTHORIZED_ROLES = [\r\n  'Commandant', \r\n  'Deputy Commandant', \r\n  'Admin'\r\n];"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAO,MAAM,cAAc;IACzB;IAAS;IAAS;IAAS;IAAS;IAAS;IAAS;IAAS;IAAS;IAAS;IAAS;IAC1F;IAAS;IAAS;IAAS;IAAS;IAAS;CAC9C;AAEM,MAAM,cAAc;IACzB;IAAQ;IAAc;IAAoB;IAAa;IAAkB;IAAiB;IAAyB;IAAc;IAAiB;IAAe;CAClK;AAEM,MAAM,gBAAgB;IAC3B;IAAQ;IAAiB;IAAsB;IAAa;IAAY;IAAgB;IAAe;IAAiB;CACzH;AAEM,MAAM,gBAAgB;IAC3B;IAAQ;IAAY;IAAoB;IAAiB;IAAU;IAAQ;IAAiB;CAC7F;AAEM,MAAM,mBAAmB;IAC9B;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,qBAAqB;IAChC;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,eAAe;IAC1B;IAAO;IAAO;IAAO;IAAQ;IAAQ;IAAQ;CAC9C;AAGM,MAAM,wBAAwB;IACnC;IACA;IACA;IACA;IACA;IACA;CACD;AAGM,MAAM,6BAA6B;IACxC;IACA;IACA;CACD","debugId":null}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ckhme/my-workflow-app/app/profile/%5Bid%5D/ProfileClient.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { submitTourAdjustment, updateCadetProfile } from './actions'\r\nimport { \r\n  CADET_RANKS, \r\n  FALL_SPORTS, \r\n  WINTER_SPORTS, \r\n  SPRING_SPORTS, \r\n  PROBATION_STATUSES, \r\n  GRADE_LEVELS \r\n} from '../constants'\r\nimport Link from 'next/link'\r\n\r\ntype ProfileClientProps = {\r\n  profile: any\r\n  stats: any \r\n  canEdit: boolean\r\n  canManageStarTours: boolean\r\n  currentSportData: { season: string, sport: string }\r\n  calculatedConduct: string \r\n}\r\n\r\nexport default function ProfileClient({ profile, stats, canEdit, canManageStarTours, currentSportData, calculatedConduct }: ProfileClientProps) {\r\n  const [isEditing, setIsEditing] = useState(false)\r\n  const [isSaving, setIsSaving] = useState(false)\r\n  \r\n  // Adjustment State\r\n  const [adjAmount, setAdjAmount] = useState(0)\r\n  const [adjReason, setAdjReason] = useState('')\r\n  const [isAdjusting, setIsAdjusting] = useState(false)\r\n\r\n  const fullName = `${profile.last_name}, ${profile.first_name}`\r\n  const isProbation = !!profile.probation_status && profile.probation_status !== 'None'\r\n  const probationStatus = profile.probation_status || 'None'\r\n  const hasStarTours = profile.has_star_tours === true\r\n  \r\n  const getConductColor = (status: string) => {\r\n      if (status === 'Exemplary') return 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200 ring-1 ring-purple-500/20';\r\n      if (status === 'Commendable') return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 ring-1 ring-green-500/20';\r\n      if (status === 'Satisfactory') return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 ring-1 ring-blue-500/20';\r\n      if (status === 'Deficient') return 'bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 ring-1 ring-orange-500/20';\r\n      return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 ring-1 ring-red-500/20';\r\n  }\r\n\r\n  async function handleSubmit(formData: FormData) {\r\n    setIsSaving(true)\r\n    const result = await updateCadetProfile(profile.id, formData)\r\n    setIsSaving(false)\r\n    if (result.error) {\r\n      alert(result.error)\r\n    } else {\r\n      setIsEditing(false)\r\n    }\r\n  }\r\n  \r\n  // New Handler for Adjustments\r\n  async function handleAdjustment() {\r\n    if (adjAmount === 0 || !adjReason) {\r\n        alert(\"Please enter a valid amount and a reason.\");\r\n        return;\r\n    }\r\n    if(!confirm(`Are you sure you want to adjust the tour balance by ${adjAmount > 0 ? '+' : ''}${adjAmount}? This will be permanently logged.`)) return;\r\n\r\n    setIsAdjusting(true)\r\n    const res = await submitTourAdjustment(profile.id, adjAmount, adjReason)\r\n    setIsAdjusting(false)\r\n\r\n    if(res.error) {\r\n        alert(res.error)\r\n    } else {\r\n        alert(\"Adjustment applied successfully.\")\r\n        setAdjAmount(0)\r\n        setAdjReason('')\r\n    }\r\n  }\r\n\r\n  // --- EDIT MODE ---\r\n  if (isEditing) {\r\n    return (\r\n      <div className=\"w-full space-y-6\">\r\n        <form action={handleSubmit} className=\"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700\">\r\n          {/* ... existing form header and fields ... */}\r\n          <div className=\"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-700/50\">\r\n            <h2 className=\"text-lg font-bold text-gray-900 dark:text-white\">Editing {fullName}</h2>\r\n            <div className=\"space-x-3\">\r\n              <button type=\"button\" onClick={() => setIsEditing(false)} className=\"text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-gray-900 hover:underline\">Cancel</button>\r\n              <button type=\"submit\" disabled={isSaving} className=\"px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 shadow-sm disabled:opacity-50\">\r\n                {isSaving ? 'Saving...' : 'Save Changes'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-6 grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            <SelectField label=\"Cadet Rank\" name=\"cadet_rank\" defaultValue={profile.cadet_rank} options={CADET_RANKS} />\r\n            <SelectField label=\"Grade Level\" name=\"grade_level\" defaultValue={profile.grade_level} options={GRADE_LEVELS} />\r\n            \r\n            <div className=\"md:col-span-1\">\r\n              <label className=\"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1\">Room Number</label>\r\n              <input type=\"text\" name=\"room_number\" defaultValue={profile.room_number || ''} className=\"block w-full rounded-md border-gray-300 dark:bg-gray-700 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border\" />\r\n            </div>\r\n\r\n            <div className=\"md:col-span-1\">\r\n              <label className=\"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1\">Years Attended</label>\r\n              <input type=\"number\" name=\"years_attended\" defaultValue={profile.years_attended || 0} className=\"block w-full rounded-md border-gray-300 dark:bg-gray-700 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border\" />\r\n            </div>\r\n\r\n            <SelectField label=\"Probation Status\" name=\"probation_status\" defaultValue={profile.probation_status} options={PROBATION_STATUSES} />\r\n            \r\n            <div className={`md:col-span-1 ${!canManageStarTours ? 'opacity-50' : ''}`}>\r\n              <label className=\"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1\">Disciplinary Status</label>\r\n              <div className=\"mt-2 flex items-center space-x-3 p-3 bg-gray-100 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                <input\r\n                  id=\"has_star_tours\"\r\n                  name=\"has_star_tours\"\r\n                  type=\"checkbox\"\r\n                  defaultChecked={hasStarTours}\r\n                  disabled={!canManageStarTours}\r\n                  className=\"h-5 w-5 rounded text-red-600 focus:ring-red-500 border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:checked:bg-red-600 disabled:opacity-50\"\r\n                />\r\n                <label htmlFor=\"has_star_tours\" className=\"font-medium text-red-700 dark:text-red-300\">\r\n                  Cadet is on * Tours\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-span-full border-t border-gray-200 dark:border-gray-700 pt-6 mt-2\">\r\n               <h3 className=\"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider mb-4\">Athletics</h3>\r\n               <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <SelectField label=\"Fall Sport\" name=\"sport_fall\" defaultValue={profile.sport_fall} options={FALL_SPORTS} />\r\n                  <SelectField label=\"Winter Sport\" name=\"sport_winter\" defaultValue={profile.sport_winter} options={WINTER_SPORTS} />\r\n                  <SelectField label=\"Spring Sport\" name=\"sport_spring\" defaultValue={profile.sport_spring} options={SPRING_SPORTS} />\r\n               </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n\r\n        {/* --- NEW: TOUR ADJUSTMENT SECTION --- */}\r\n        {canManageStarTours && (\r\n            <div className=\"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700\">\r\n                <div className=\"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50\">\r\n                    <h2 className=\"text-lg font-bold text-gray-900 dark:text-white\">Manual Tour Adjustment</h2>\r\n                    <p className=\"text-xs text-gray-500\">Directly manipulate the ledger. Positive adds penalty, negative removes/serves.</p>\r\n                </div>\r\n                <div className=\"p-6 grid grid-cols-1 md:grid-cols-3 gap-6 items-end\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1\">Adjustment Amount</label>\r\n                        <input \r\n                            type=\"number\" \r\n                            value={adjAmount}\r\n                            onChange={e => setAdjAmount(Number(e.target.value))}\r\n                            className=\"block w-full rounded-md border-gray-300 dark:bg-gray-700 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border\" \r\n                            placeholder=\"e.g. 5 or -5\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"md:col-span-1\">\r\n                        <label className=\"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1\">Reason</label>\r\n                        <input \r\n                            type=\"text\" \r\n                            value={adjReason}\r\n                            onChange={e => setAdjReason(e.target.value)}\r\n                            className=\"block w-full rounded-md border-gray-300 dark:bg-gray-700 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border\" \r\n                            placeholder=\"Administrative Adjustment\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <button \r\n                            type=\"button\" \r\n                            onClick={handleAdjustment}\r\n                            disabled={isAdjusting || adjAmount === 0 || !adjReason}\r\n                            className=\"w-full px-4 py-2.5 text-sm font-bold text-white bg-gray-800 dark:bg-gray-600 rounded-md hover:bg-gray-900 dark:hover:bg-gray-500 shadow-sm disabled:opacity-50\"\r\n                        >\r\n                            {isAdjusting ? 'Applying...' : 'Apply Adjustment'}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // --- VIEW MODE ---\r\n  return (\r\n    <div className=\"w-full\">\r\n      \r\n      {/* 1. Header Card */}\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden mb-6\">\r\n        <div className=\"h-32 bg-indigo-600 dark:bg-indigo-900\"></div>\r\n        <div className=\"px-6 pb-6\">\r\n          <div className=\"relative flex justify-between items-end -mt-10 mb-4\">\r\n            <div className=\"flex items-end\">\r\n              <div className=\"h-20 w-20 rounded-full bg-white dark:bg-gray-800 p-1.5 shadow-lg ring-1 ring-gray-200 dark:ring-gray-700\">\r\n                <div className=\"h-full w-full rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-2xl font-bold text-gray-600 dark:text-gray-300\">\r\n                  {profile.first_name[0]}{profile.last_name[0]}\r\n                </div>\r\n              </div>\r\n              <div className=\"ml-4 mb-1\">\r\n                <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">{fullName}</h1>\r\n                <div className=\"flex items-center gap-2 mt-1\">\r\n                  <span className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-bold bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600\">\r\n                    {profile.cadet_rank || 'Cadet'}\r\n                  </span>\r\n                  <span className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">\r\n                    {profile.role?.role_name || 'Unassigned'} &bull; {profile.company?.company_name || 'No Co.'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex space-x-3\">\r\n              {canEdit && (\r\n                <button onClick={() => setIsEditing(true)} className=\"px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 text-sm font-medium rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors\">\r\n                  Edit Profile\r\n                </button>\r\n              )}\r\n              <Link href={`/ledger/${profile.id}`} className=\"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md shadow-sm hover:bg-indigo-700 transition-colors focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">\r\n                View Ledger\r\n              </Link>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 py-6 border-t border-gray-100 dark:border-gray-700\">\r\n            <StatItem label=\"Grade\" value={profile.grade_level} />\r\n            <StatItem label=\"Room\" value={profile.room_number} />\r\n            <StatItem label=\"Years\" value={profile.years_attended ? `${profile.years_attended} yrs` : '-'} />\r\n            <StatItem label=\"Demerits\" value={profile.total_demerits} isBad={profile.total_demerits > 0} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 h-fit\">\r\n          <h3 className=\"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider mb-5\">Status & Conduct</h3>\r\n          \r\n          <div className=\"space-y-5\">\r\n            {hasStarTours && (\r\n              <div className=\"pb-4 border-b border-red-200 dark:border-red-800\">\r\n                <p className=\"text-xs font-semibold text-red-700 dark:text-red-300 uppercase tracking-wide mb-2\">Disciplinary Status</p>\r\n                <span className=\"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-bold bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 border border-red-200 dark:border-red-800\">\r\n                  {/* ICON-FIX: Replaced SVG with centered asterisk */}\r\n                  <span className=\"font-bold text-lg leading-none\" aria-hidden=\"true\">&lowast;</span>\r\n                  <span> TOURS ASSIGNED</span>\r\n                </span>\r\n              </div>\r\n            )}\r\n\r\n            <div>\r\n              <p className=\"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide mb-2\">Conduct Status (Auto)</p>\r\n              <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-bold shadow-sm ${getConductColor(calculatedConduct)}`}>\r\n                {calculatedConduct}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"pt-4 border-t border-gray-100 dark:border-gray-700\">\r\n              <p className=\"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide mb-2\">Probation Status</p>\r\n              {isProbation ? (\r\n                <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 border border-red-200 dark:border-red-800\">\r\n                  {probationStatus}\r\n                </span>\r\n              ) : (\r\n                <span className=\"text-sm font-medium text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full border dark:border-gray-600\">\r\n                  None\r\n                </span>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"pt-4 border-t border-gray-100 dark:border-gray-700 grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide mb-1\">Term Demerits</p>\r\n                <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">{stats?.term_demerits || 0}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide mb-1\">Year Demerits</p>\r\n                <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">{stats?.year_demerits || 0}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"lg:col-span-2 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\r\n          <h3 className=\"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider mb-5\">Athletics & Activities</h3>\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n            <SportCard title=\"Fall\" sport={profile.sport_fall} active={currentSportData.season === 'Fall Sport'} />\r\n            <SportCard title=\"Winter\" sport={profile.sport_winter} active={currentSportData.season === 'Winter Sport'} />\r\n            <SportCard title=\"Spring\" sport={profile.sport_spring} active={currentSportData.season === 'Spring Sport'} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction StatItem({ label, value, isBad }: { label: string, value: string | number | null, isBad?: boolean }) {\r\n    return (\r\n        <div className=\"p-3 bg-gray-100 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n          <p className=\"text-xs text-gray-600 dark:text-gray-400 uppercase tracking-wider font-bold\">{label}</p>\r\n          <p className={`text-lg font-bold mt-0.5 ${isBad ? 'text-red-700 dark:text-red-400' : 'text-gray-900 dark:text-white'}`}>\r\n            {value || '-'}\r\n          </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction SelectField({ label, name, defaultValue, options }: { label: string, name: string, defaultValue: string, options: string[] }) {\r\n    return (\r\n        <div>\r\n            <label className=\"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1\">{label}</label>\r\n            <select name={name} defaultValue={defaultValue || ''} className=\"block w-full rounded-md border-gray-300 dark:bg-gray-700 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border\">\r\n                <option value=\"\">Select...</option>\r\n                {options.map(opt => <option key={opt} value={opt}>{opt}</option>)}\r\n            </select>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction SportCard({ title, sport, active }: { title: string, sport: string | null, active: boolean }) {\r\n    return (\r\n      <div className={`p-4 rounded-lg border shadow-sm transition-all ${\r\n        active \r\n          ? 'bg-indigo-50 border-indigo-300 dark:bg-indigo-900/30 dark:border-indigo-700 ring-2 ring-indigo-500/50 dark:ring-indigo-600/50' \r\n          : 'bg-white border-gray-200 dark:bg-gray-700/30 dark:border-gray-700'\r\n      }`}>\r\n        <div className=\"flex justify-between items-start mb-2\">\r\n          <p className={`text-xs uppercase tracking-wide font-bold ${active ? 'text-indigo-800 dark:text-indigo-300' : 'text-gray-600 dark:text-gray-400'}`}>\r\n            {title}\r\n            {/* REMOVED pulsing dot, replaced with static bullet */}\r\n            {active && <span className=\"ml-1.5 text-indigo-600\" aria-hidden=\"true\">&bull;</span>}\r\n          </p>\r\n        </div>\r\n        <p className={`text-lg font-bold ${active ? 'text-indigo-900 dark:text-indigo-100' : 'text-gray-900 dark:text-white'}`}>\r\n            {sport || 'None'}\r\n        </p>\r\n      </div>\r\n    )\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1160, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ckhme/my-workflow-app/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;;;;;;;;;;;;;;;;IAEjBA,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IAMVC,qBAAqB,EAAA;eAArBA,QAAAA,qBAAqB;;IALrBC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;wBAKK","ignoreList":[0],"debugId":null}}]
}