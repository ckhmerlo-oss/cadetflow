{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ckhme/my-workflow-app/app/report/%5Bid%5D/actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { createClient } from '@/utils/supabase/server'\r\nimport { revalidatePath } from 'next/cache'\r\n\r\n/**\r\n * Server action to pull a completed report.\r\n * This calls the 'public.pull_report' SQL function, which contains\r\n * all the necessary security logic (is user submitter? is user staff?)\r\n * and business logic (set demerits to 0, set tours to 0, log action).\r\n */\r\nexport async function pullReportAction(reportId: string, comment: string) {\r\n  'use server'\r\n  \r\n  const supabase = createClient()\r\n  \r\n  // Call the 'pull_report' SQL function you created earlier.\r\n  // The database function handles all its own security.\r\n  const { error } = await supabase.rpc('pull_report', {\r\n    p_report_id: reportId,\r\n    p_comment: comment\r\n  })\r\n\r\n  if (error) {\r\n    console.error('Error pulling report:', error.message)\r\n    // Send a user-friendly error back\r\n    return { error: `Action failed: ${error.message}` }\r\n  }\r\n\r\n  // When successful, refresh the data on all affected pages\r\n  revalidatePath(`/report/${reportId}`)\r\n  revalidatePath(`/ledger/[id]`, 'layout') // Refresh all ledgers\r\n  revalidatePath('/manage') // Refresh the roster\r\n  revalidatePath('/') // Refresh the dashboard\r\n\r\n  return { success: true }\r\n}"],"names":[],"mappings":";;;;;;;IAWsB,mBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ckhme/my-workflow-app/app/report/%5Bid%5D/ReportDetailsClient.tsx"],"sourcesContent":["// in app/report/[id]/ReportDetailsClient.tsx\r\n'use client' \r\n\r\n// All imports from your original file\r\nimport { createClient } from '@/utils/supabase/client'\r\nimport { useRouter } from 'next/navigation'\r\nimport { useState, useMemo } from 'react'\r\nimport { User } from '@supabase/supabase-js'\r\nimport React from 'react' \r\nimport Link from 'next/link'\r\nimport { pullReportAction } from './actions' // <<< IMPORT NEW ACTION\r\nimport { ReportPermissions } from './page' // <<< IMPORT CORRECT TYPE\r\n\r\n// --- Types ---\r\ntype Report = {\r\n  id: string;\r\n  status: string;\r\n  notes: string | null;\r\n  submitted_by: string;\r\n  subject_cadet_id: string;\r\n  current_approver_group_id: string | null; \r\n  date_of_offense: string;\r\n  offense_type_id: string;\r\n  demerits_effective: number;\r\n  subject: { first_name: string, last_name: string }; \r\n  submitter: { first_name: string, last_name: string };\r\n  offense_type: {\r\n    offense_name: string;\r\n    offense_code: string;\r\n    demerits: number;\r\n    policy_category: number;\r\n  }\r\n};\r\n\r\ntype Log = {\r\n  id: string;\r\n  action: string;\r\n  comment: string;\r\n  created_at: string;\r\n  // FIX: Actor is an array from Supabase\r\n  actor: { first_name: string, last_name: string }[] | null; \r\n};\r\n\r\ntype Offense = {\r\n  id: string;\r\n  offense_name: string;\r\n  demerits: number;\r\n  policy_category: number;\r\n}\r\n\r\ntype Appeal = {\r\n  id: string;\r\n  status: string;\r\n  justification: string;\r\n  issuer_comment: string | null;\r\n  chain_comment: string | null;\r\n  final_comment: string | null;\r\n  current_assignee_id: string | null;\r\n  current_group_id: string | null;\r\n}\r\n\r\ntype EscalationTarget = {\r\n  target_id: string;\r\n  target_name: string;\r\n  target_type: 'user' | 'group';\r\n}\r\n// --- End Types ---\r\n\r\n\r\n// <<< NEW: Modal Component >>>\r\nfunction PullReportModal({ isOpen, onClose, onSubmit, isPulling }: { isOpen: boolean, onClose: () => void, onSubmit: (comment: string) => void, isPulling: boolean }) {\r\n  const [comment, setComment] = useState('')\r\n\r\n  if (!isOpen) return null\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (!comment.trim()) {\r\n      alert('A comment is required to pull this report.')\r\n      return\r\n    }\r\n    onSubmit(comment)\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\" aria-modal=\"true\" role=\"dialog\">\r\n      <div className=\"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-md\">\r\n        <h2 className=\"text-lg font-bold text-gray-900 dark:text-white\">Pull Report</h2>\r\n        <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-2\">\r\n          This will set the report's status to \"Pulled\", reverse its demerits, and nullify any tours. This action is final.\r\n        </p>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mt-4\">\r\n            <label htmlFor=\"comment\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              Reason for Pulling (Required)\r\n            </label>\r\n            <textarea\r\n              id=\"comment\"\r\n              name=\"comment\"\r\n              rows={3}\r\n              value={comment}\r\n              onChange={(e) => setComment(e.target.value)}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm dark:bg-gray-700 dark:text-white focus:ring-indigo-500 focus:border-indigo-500\"\r\n              placeholder=\"e.g., Duplicate report, issued in error.\"\r\n            />\r\n          </div>\r\n          <div className=\"mt-6 flex justify-end space-x-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isPulling}\r\n              className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md shadow-sm hover:bg-red-700 disabled:opacity-50\"\r\n            >\r\n              {isPulling ? 'Pulling...' : 'Pull Report'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Props now include 'permissions' object\r\nexport default function ReportDetailsClient({ report, logs, appeal, offenses, escalationTarget, permissions, user }: { \r\n  report: Report, \r\n  logs: Log[], \r\n  appeal: Appeal | null, \r\n  offenses: Offense[], \r\n  escalationTarget: EscalationTarget | null, \r\n  permissions: ReportPermissions, // FIX 1: Use renamed type\r\n  user: User \r\n}) {\r\n  const router = useRouter()\r\n  const supabase = createClient()\r\n\r\n  // State from your original file\r\n  const [isEditing, setIsEditing] = useState(false)\r\n  const [isAppealing, setIsAppealing] = useState(false)\r\n  const [isEscalating, setIsEscalating] = useState(false)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n  \r\n  // Form state\r\n  const [notes, setNotes] = useState(report.notes || '')\r\n  const [offenseTypeId, setOffenseTypeId] = useState(report.offense_type_id)\r\n  const [appealJustification, setAppealJustification] = useState('')\r\n  \r\n  // --- NEW State for Pulling ---\r\n  const [isPullModalOpen, setIsPullModalOpen] = useState(false)\r\n  const [isPulling, setIsPulling] = useState(false)\r\n  const [pullError, setPullError] = useState<string | null>(null)\r\n\r\n  // FIX 3: All permission logic is now removed from the client.\r\n  // We just destructure the props passed from the server.\r\n  const { \r\n    canApprove, \r\n    canRevise, \r\n    canAppeal, \r\n    canEscalate, \r\n    canActOnAppeal, \r\n    canPull \r\n  } = permissions\r\n\r\n  // --- NEW: Pull Report Handler ---\r\n  const handlePullReport = async (comment: string) => {\r\n    setIsPulling(true)\r\n    setPullError(null)\r\n    const result = await pullReportAction(report.id, comment)\r\n    setIsPulling(false)\r\n\r\n    if (result.error) {\r\n      setPullError(result.error)\r\n      alert(`Error: ${result.error}`)\r\n    } else {\r\n      setIsPullModalOpen(false)\r\n      router.refresh() // Refresh page to show \"Pulled\" status\r\n    }\r\n  }\r\n\r\n  // --- Handlers from your original file ---\r\n  const handleEditClick = () => {\r\n    setIsEditing(true)\r\n    setNotes(report.notes || '')\r\n    setOffenseTypeId(report.offense_type_id)\r\n  }\r\n  \r\n  const handleCancelEdit = () => {\r\n    setIsEditing(false)\r\n    setError(null)\r\n  }\r\n\r\n  const handleUpdateReport = async () => {\r\n    setIsLoading(true)\r\n    setError(null)\r\n    const { error } = await supabase.rpc('resubmit_report', {\r\n      p_report_id: report.id,\r\n      p_offense_type_id: offenseTypeId,\r\n      p_notes: notes\r\n    })\r\n    if (error) {\r\n      setError(error.message)\r\n    } else {\r\n      setIsEditing(false)\r\n      router.refresh()\r\n    }\r\n    setIsLoading(false)\r\n  }\r\n\r\n  const handleAppeal = async () => {\r\n    if (!appealJustification.trim()) {\r\n      setError(\"A justification is required to appeal.\"); return;\r\n    }\r\n    setIsLoading(true)\r\n    setError(null)\r\n    const { error } = await supabase.rpc('create_appeal', {\r\n      p_report_id: report.id,\r\n      p_justification: appealJustification\r\n    })\r\n    if (error) {\r\n      setError(error.message)\r\n    } else {\r\n      setIsAppealing(false)\r\n      router.refresh()\r\n    }\r\n    setIsLoading(false)\r\n  }\r\n\r\n  const handleEscalate = async (comment: string) => {\r\n    if (!appeal || !escalationTarget) return;\r\n    setIsLoading(true)\r\n    setError(null)\r\n    const { error } = await supabase.rpc('escalate_appeal', {\r\n      p_appeal_id: appeal.id,\r\n      p_comment: comment\r\n    })\r\n    if (error) {\r\n      setError(error.message)\r\n    } else {\r\n      setIsEscalating(false)\r\n      router.refresh()\r\n    }\r\n    setIsLoading(false)\r\n  }\r\n\r\n  // FIX 3: This function now handles the array type from the Log\r\n  const formatLogActorName = (actor: { first_name: string, last_name: string }[] | null) => {\r\n    if (!actor || actor.length === 0 || !actor[0]) return 'System'\r\n    return `${actor[0].last_name}, ${actor[0].first_name}`\r\n  }\r\n\r\n  // FIX 3: This function handles single objects like report.subject\r\n  const formatProfileName = (profile: { first_name: string, last_name: string } | null) => {\r\n    if (!profile) return 'System'\r\n    return `${profile.last_name}, ${profile.first_name}`\r\n  }\r\n\r\n\r\n  // --- Main Render ---\r\n  return (\r\n    <>\r\n      {/* This is the Report Details Card */}\r\n      <div className=\"bg-white dark:bg-gray-800 p-6 rounded-lg shadow space-y-6\">\r\n        <ReportHeader report={report} />\r\n        \r\n        {/* Conditional Forms */}\r\n        {isEditing ? (\r\n          <EditForm \r\n            offenses={offenses}\r\n            notes={notes}\r\n            setNotes={setNotes}\r\n            offenseTypeId={offenseTypeId}\r\n            setOffenseTypeId={setOffenseTypeId}\r\n            onCancel={handleCancelEdit}\r\n            onUpdate={handleUpdateReport}\r\n            isLoading={isLoading}\r\n            error={error}\r\n          />\r\n        ) : isAppealing ? (\r\n          <AppealForm\r\n            justification={appealJustification}\r\n            setJustification={setAppealJustification}\r\n            onCancel={() => { setIsAppealing(false); setError(null); }}\r\n            onSubmit={handleAppeal}\r\n            isLoading={isLoading}\r\n            error={error}\r\n          />\r\n        ) : isEscalating && appeal ? (\r\n          <EscalateForm\r\n            appeal={appeal}\r\n            escalationTarget={escalationTarget}\r\n            onCancel={() => { setIsEscalating(false); setError(null); }}\r\n            onSubmit={handleEscalate}\r\n            isLoading={isLoading}\r\n            error={error}\r\n          />\r\n        ) : (\r\n          // Default View\r\n          <DemeritInfo report={report} formatName={formatProfileName} />\r\n        )}\r\n        \r\n        {/* --- ACTION BUTTONS (Updated) --- */}\r\n        {!isEditing && !isAppealing && !isEscalating && (\r\n          <ActionButtons \r\n            reportId={report.id}\r\n            canApprove={canApprove}\r\n            canRevise={canRevise}\r\n            canAppeal={canAppeal}\r\n            canEscalate={canEscalate}\r\n            canActOnAppeal={canActOnAppeal}\r\n            canPull={canPull} // <<< Pass prop\r\n            onAppealClick={() => setIsAppealing(true)}\r\n            onEscalateClick={() => setIsEscalating(true)}\r\n            onPullClick={() => setIsPullModalOpen(true)} // <<< Pass handler\r\n          />\r\n        )}\r\n        \r\n        {pullError && <p className=\"text-sm text-red-600 mt-4\">{pullError}</p>}\r\n        \r\n        {/* --- HISTORY LOG --- */}\r\n        {!isEditing && !isAppealing && !isEscalating && (\r\n          <ApprovalLog logs={logs} formatName={formatLogActorName} />\r\n        )}\r\n\r\n      </div>\r\n      \r\n      {/* --- Appeal Card (from your original file) --- */}\r\n      {appeal && !isEditing && !isAppealing && !isEscalating && (\r\n        <AppealDetails appeal={appeal} />\r\n      )}\r\n      \r\n      {/* --- Pull Report Modal (will render when open) --- */}\r\n      <PullReportModal\r\n        isOpen={isPullModalOpen}\r\n        onClose={() => setIsPullModalOpen(false)}\r\n        onSubmit={handlePullReport}\r\n        isPulling={isPulling}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\n// --- Sub-Components (Merged and Updated) ---\r\n\r\nfunction ReportHeader({ report }: { report: Report }) {\r\n  const isPulled = report.status === 'pulled'\r\n  return (\r\n    <div className=\"border-b border-gray-200 dark:border-gray-700 pb-4\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h1 className={`text-2xl font-bold ${isPulled ? 'text-gray-500 line-through' : 'text-gray-900 dark:text-white'}`}>\r\n          {report.offense_type.offense_name}\r\n        </h1>\r\n        <StatusBadge status={report.status} />\r\n      </div>\r\n      <p className={`mt-1 text-sm ${isPulled ? 'text-gray-400' : 'text-gray-600 dark:text-gray-400'}`}>\r\n        Category {report.offense_type.policy_category} &bull; {report.demerits_effective} Demerits\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction DemeritInfo({ report, formatName }: { \r\n  report: Report, \r\n  // FIX 3: This prop now expects a function for single objects\r\n  formatName: (profile: { first_name: string, last_name: string } | null) => string \r\n}) {\r\n  const isPulled = report.status === 'pulled'\r\n  \r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n      <InfoBlock \r\n        label=\"Subject\" \r\n        value={formatName(report.subject)} \r\n        isPulled={isPulled} \r\n      />\r\n      <InfoBlock \r\n        label=\"Submitted By\" \r\n        value={formatName(report.submitter)} \r\n        isPulled={isPulled} \r\n      />\r\n      <InfoBlock \r\n        label=\"Offense Date\" \r\n        value={new Date(report.date_of_offense).toLocaleDateString()} \r\n        subtext={new Date(report.date_of_offense).toLocaleTimeString()} \r\n        isPulled={isPulled} \r\n      />\r\n      <div className=\"md:col-span-3\">\r\n        <InfoBlock \r\n          label=\"Notes\" \r\n          value={report.notes || 'No notes provided.'} \r\n          isPulled={isPulled} \r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction InfoBlock({ label, value, subtext, isPulled = false }: { label: string, value: string, subtext?: string | null, isPulled?: boolean }) {\r\n  return (\r\n    <div>\r\n      <label className=\"block text-sm font-medium text-gray-500 dark:text-gray-400\">{label}</label>\r\n      <p className={`text-lg font-medium ${isPulled ? 'text-gray-500 line-through' : 'text-gray-900 dark:text-white'}`}>{value}</p>\r\n      {subtext && <p className={`text-sm ${isPulled ? 'text-gray-400' : 'text-gray-600 dark:text-gray-400'}`}>{subtext}</p>}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction StatusBadge({ status }: { status: string }) {\r\n  let colorClasses, text;\r\n  switch (status) {\r\n    case 'completed':\r\n      colorClasses = 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200';\r\n      text = 'Approved';\r\n      break;\r\n    case 'rejected':\r\n      colorClasses = 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200';\r\n      text = 'Rejected';\r\n      break;\r\n    case 'pending_approval':\r\n      colorClasses = 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200';\r\n      text = 'Pending Approval';\r\n      break;\r\n    case 'pulled': // <<< ADDED\r\n      colorClasses = 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200';\r\n      text = 'Pulled';\r\n      break;\r\n    default: // This catches 'needs_revision'\r\n      colorClasses = 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200';\r\n      text = 'Needs Revision';\r\n  }\r\n  return <span className={`px-3 py-1 rounded-full text-sm font-medium ${colorClasses}`}>{text}</span>\r\n}\r\n\r\nfunction ActionButtons({ \r\n  reportId, \r\n  canApprove, \r\n  canRevise, \r\n  canAppeal, \r\n  canEscalate, \r\n  canActOnAppeal,\r\n  canPull, // <<< ADDED\r\n  onAppealClick,\r\n  onEscalateClick,\r\n  onPullClick // <<< ADDED\r\n}: { \r\n  reportId: string, \r\n  canApprove: boolean, \r\n  canRevise: boolean, \r\n  canAppeal: boolean, \r\n  canEscalate: boolean, \r\n  canActOnAppeal: boolean,\r\n  canPull: boolean, // <<< ADDED\r\n  onAppealClick: () => void,\r\n  onEscalateClick: () => void,\r\n  onPullClick: () => void // <<< ADDED\r\n}) {\r\n  // If no actions are possible, don't render this block\r\n  if (!canApprove && !canRevise && !canAppeal && !canEscalate && !canActOnAppeal && !canPull) {\r\n    return null;\r\n  }\r\n  \r\n  return (\r\n    <div className=\"mt-6 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-700\">\r\n      <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">Actions</h3>\r\n      <div className=\"mt-4 flex flex-col sm:flex-row flex-wrap gap-3\">\r\n        {canApprove && (\r\n          <Link href={`/report/${reportId}/approve`} className=\"text-center px-4 py-2 bg-green-600 text-white font-medium rounded-md shadow-sm hover:bg-green-700\">\r\n            Approve / Reject\r\n          </Link>\r\n        )}\r\n        {canRevise && (\r\n          <button onClick={onAppealClick} className=\"text-center px-4 py-2 bg-blue-600 text-white font-medium rounded-md shadow-sm hover:bg-blue-700\">\r\n            Edit Report\r\n          </button>\r\n        )}\r\n        {canAppeal && (\r\n          <button onClick={onAppealClick} className=\"text-center px-4 py-2 bg-yellow-500 text-white font-medium rounded-md shadow-sm hover:bg-yellow-600\">\r\n            Appeal Decision\r\n          </button>\r\n        )}\r\n        {canEscalate && (\r\n          <button onClick={onEscalateClick} className=\"text-center px-4 py-2 bg-orange-500 text-white font-medium rounded-md shadow-sm hover:bg-orange-600\">\r\n            Escalate Appeal\r\n          </button>\r\n        )}\r\n        {canActOnAppeal && (\r\n           <Link href={`/report/${reportId}/appeal`} className=\"text-center px-4 py-2 bg-purple-600 text-white font-medium rounded-md shadow-sm hover:bg-purple-700\">\r\n            Review Appeal\r\n          </Link>\r\n        )}\r\n        {/* <<< NEW BUTTON >>> */}\r\n        {canPull && (\r\n          <button \r\n            onClick={onPullClick}\r\n            className=\"text-center px-4 py-2 bg-red-600 text-white font-medium rounded-md shadow-sm hover:bg-red-700\"\r\n          >\r\n            Pull Report\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction ApprovalLog({ logs, formatName }: { \r\n  logs: Log[], \r\n  // FIX 2: Update formatName prop type to expect the array\r\n  formatName: (actor: { first_name: string, last_name: string }[] | null) => string \r\n}) {\r\n  return (\r\n    <div className=\"mt-6\">\r\n      <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">History</h3>\r\n      <div className=\"mt-4 border-t border-gray-200 dark:border-gray-700\">\r\n        <dl className=\"divide-y divide-gray-200 dark:divide-gray-700\">\r\n          {logs.length > 0 ? logs.map(log => (\r\n            <div key={log.id} className=\"py-4\">\r\n              <div className=\"flex justify-between\">\r\n                {/* FIX 3: This call is now correct */}\r\n                <span className=\"text-sm font-medium text-gray-900 dark:text-white\"><strong>{formatName(log.actor)}</strong>: {log.action}</span>\r\n                <span className=\"text-xs text-gray-500 dark:text-gray-400\">{new Date(log.created_at).toLocaleString()}</span>\r\n              </div>\r\n              {log.comment && <p className=\"mt-2 text-sm text-gray-700 dark:text-gray-300 italic\">\"{log.comment}\"</p>}\r\n            </div>\r\n          )) : (\r\n            <p className=\"py-4 text-sm text-gray-500 dark:text-gray-400\">No history for this report.</p>\r\n          )}\r\n        </dl>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction EditForm({ offenses, notes, setNotes, offenseTypeId, setOffenseTypeId, onCancel, onUpdate, isLoading, error }: {\r\n  offenses: Offense[],\r\n  notes: string,\r\n  setNotes: (val: string) => void,\r\n  offenseTypeId: string,\r\n  setOffenseTypeId: (val: string) => void,\r\n  onCancel: () => void,\r\n  onUpdate: () => void,\r\n  isLoading: boolean,\r\n  error: string | null\r\n}) {\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Infraction</label>\r\n        <select \r\n          value={offenseTypeId} \r\n          onChange={(e) => setOffenseTypeId(e.target.value)}\r\n          className=\"mt-1 block w-full rounded-md border-gray-300 dark:bg-gray-700 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\r\n        >\r\n          {offenses.map(o => <option key={o.id} value={o.id}>[Cat {o.policy_category}] {o.offense_name} ({o.demerits} demerits)</option>)}\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Notes</label>\r\n        <textarea \r\n          value={notes} \r\n          onChange={(e) => setNotes(e.target.value)} \r\n          rows={4}\r\n          className=\"mt-1 block w-full rounded-md border-gray-300 dark:bg-gray-700 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\r\n        />\r\n      </div>\r\n      {error && <p className=\"text-sm text-red-600\">{error}</p>}\r\n      <div className=\"flex justify-end gap-3\">\r\n        <button onClick={onCancel} className=\"px-4 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\">Cancel</button>\r\n        <button onClick={onUpdate} disabled={isLoading} className=\"px-4 py-2 text-sm text-white bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:opacity-50\">\r\n          {isLoading ? 'Resubmitting...' : 'Resubmit for Approval'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction AppealForm({ justification, setJustification, onCancel, onSubmit, isLoading, error }: {\r\n  justification: string,\r\n  setJustification: (val: string) => void,\r\n  onCancel: () => void,\r\n  onSubmit: () => void,\r\n  isLoading: boolean,\r\n  error: string | null\r\n}) {\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">Appeal Report</h3>\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Justification (Required)</label>\r\n        <textarea \r\n          value={justification} \r\n          onChange={(e) => setJustification(e.target.value)} \r\n          rows={4}\r\n          className=\"mt-1 block w-full rounded-md border-gray-300 dark:bg-gray-700 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\r\n          placeholder=\"Explain why this decision should be reconsidered...\"\r\n        />\r\n      </div>\r\n      {error && <p className=\"text-sm text-red-600\">{error}</p>}\r\n      <div className=\"flex justify-end gap-3\">\r\n        <button onClick={onCancel} className=\"px-4 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\">Cancel</button>\r\n        <button onClick={onSubmit} disabled={isLoading} className=\"px-4 py-2 text-sm text-white bg-yellow-500 rounded-md hover:bg-yellow-600 disabled:opacity-50\">\r\n          {isLoading ? 'Submitting...' : 'Submit Appeal'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction EscalateForm({ appeal, escalationTarget, onCancel, onSubmit, isLoading, error }: {\r\n  appeal: Appeal,\r\n  escalationTarget: EscalationTarget | null,\r\n  onCancel: () => void,\r\n  onSubmit: (comment: string) => void,\r\n  isLoading: boolean,\r\n  error: string | null\r\n}) {\r\n  const [comment, setComment] = useState('')\r\n  \r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">Escalate Appeal</h3>\r\n      <div className=\"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-md border dark:border-gray-700\">\r\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">Your appeal was rejected by the previous reviewer. You may escalate it to the next level in the chain of command.</p>\r\n        <p className=\"mt-2 text-sm font-medium text-gray-900 dark:text-white\">\r\n          Next Reviewer: {escalationTarget?.target_name || 'N/A'}\r\n        </p>\r\n      </div>\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Addt'l Comments (Optional)</label>\r\n        <textarea \r\n          value={comment} \r\n          onChange={(e) => setComment(e.target.value)} \r\n          rows={3}\r\n          className=\"mt-1 block w-full rounded-md border-gray-300 dark:bg-gray-700 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\r\n          placeholder=\"Add any new information for the reviewer...\"\r\n        />\r\n      </div>\r\n      {error && <p className=\"text-sm text-red-600\">{error}</p>}\r\n      <div className=\"flex justify-end gap-3\">\r\n        <button onClick={onCancel} className=\"px-4 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\">Cancel</button>\r\n        <button onClick={() => onSubmit(comment)} disabled={isLoading} className=\"px-4 py-2 text-sm text-white bg-orange-500 rounded-md hover:bg-orange-600 disabled:opacity-50\">\r\n          {isLoading ? 'Escalating...' : 'Escalate Appeal'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction AppealDetails({ appeal }: { appeal: Appeal }) {\r\n  // This is the read-only view of the appeal from your original file\r\n  const appealStatusMap: { [key: string]: { text: string, color: string } } = {\r\n    'pending_issuer': { text: 'Pending Issuer Review', color: 'bg-yellow-100 text-yellow-800' },\r\n    'rejected_by_issuer': { text: 'Rejected by Issuer (Can Escalate)', color: 'bg-orange-100 text-orange-800' },\r\n    'pending_chain': { text: 'Pending Chain Review', color: 'bg-yellow-100 text-yellow-800' },\r\n    'rejected_by_chain': { text: 'Rejected by Chain (Can Escalate)', color: 'bg-orange-100 text-orange-800' },\r\n    'pending_commandant': { text: 'Pending Commandant Review', color: 'bg-yellow-100 text-yellow-800' },\r\n    'approved': { text: 'Appeal Granted', color: 'bg-green-100 text-green-800' },\r\n    'rejected_final': { text: 'Appeal Denied', color: 'bg-red-100 text-red-800' },\r\n  }\r\n  const statusInfo = appealStatusMap[appeal.status] || { text: appeal.status, color: 'bg-gray-100 text-gray-800' }\r\n\r\n  return (\r\n    <div className=\"mt-6 bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden\">\r\n      <div className=\"px-6 py-4 border-b border-gray-200 dark:border-gray-700\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">Appeal Details</h2>\r\n          <span className={`px-3 py-1 rounded-full text-sm font-medium ${statusInfo.color} dark:bg-opacity-20`}>{statusInfo.text}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"p-6 space-y-4\">\r\n        <div>\r\n          <h4 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Cadet's Justification</h4>\r\n          <p className=\"mt-1 text-gray-700 dark:text-gray-300 italic\">\"{appeal.justification}\"</p>\r\n        </div>\r\n        {appeal.issuer_comment && (\r\n          <div className=\"pt-4 border-t dark:border-gray-700\">\r\n            <h4 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Issuer's Comment</h4>\r\n            <p className=\"mt-1 text-gray-700 dark:text-gray-300 italic\">\"{appeal.issuer_comment}\"</p>\r\n          </div>\r\n        )}\r\n        {appeal.chain_comment && (\r\n          <div className=\"pt-4 border-t dark:border-gray-700\">\r\n            <h4 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Chain's Comment</h4>\r\n            <p className=\"mt-1 text-gray-700 dark:text-gray-300 italic\">\"{appeal.chain_comment}\"</p>\r\n          </div>\r\n        )}\r\n        {appeal.final_comment && (\r\n          <div className=\"pt-4 border-t dark:border-gray-700\">\r\n            <h4 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Commandant's Decision</h4>\r\n            <p className=\"mt-1 text-gray-700 dark:text-gray-300 italic\">\"{appeal.final_comment}\"</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1290, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ckhme/my-workflow-app/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;;;;;;;;;;;;;;;;IAEjBA,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IAMVC,qBAAqB,EAAA;eAArBA,QAAAA,qBAAqB;;IALrBC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;wBAKK","ignoreList":[0],"debugId":null}}]
}