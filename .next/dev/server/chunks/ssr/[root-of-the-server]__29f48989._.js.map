{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/inter_5972bc34.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"inter_5972bc34-module__OU16Qa__className\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/inter_5972bc34.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Inter%22,%22arguments%22:[{%22subsets%22:[%22latin%22]}],%22variableName%22:%22inter%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Inter', 'Inter Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,gKAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,gKAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,gKAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ckhme/my-workflow-app/app/components/SignOutButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/SignOutButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/SignOutButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoS,GACjU,kEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ckhme/my-workflow-app/app/components/SignOutButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/SignOutButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/SignOutButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgR,GAC7S,8CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ckhme/my-workflow-app/utils/supabase/server.ts"],"sourcesContent":["// in utils/supabase/server.ts\r\nimport { createServerClient, type CookieOptions } from '@supabase/ssr'\r\nimport { cookies } from 'next/headers'\r\n\r\nexport function createClient() {\r\n  // Define cookieStore ONCE, at the top.\r\n  const cookieStore = cookies()\r\n\r\n  return createServerClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n    {\r\n      cookies: {\r\n        async get(name: string) {\r\n          return (await cookieStore).get(name)?.value\r\n        },\r\n        async set(name: string, value: string, options: CookieOptions) {\r\n          try {\r\n            (await cookieStore).set({ name, value, ...options })\r\n          } catch (error) {\r\n            // The `set` method was called from a Server Component.\r\n            // This can be ignored if you have middleware.\r\n          }\r\n        },\r\n        async remove(name: string, options: CookieOptions) {\r\n          try {\r\n            (await cookieStore).delete({ name, ...options })\r\n          } catch (error) {\r\n            // The `delete` method was called from a Server Component.\r\n            // This can be ignored if you have middleware.\r\n          }\r\n        },\r\n      },\r\n    }\r\n  )\r\n}"],"names":[],"mappings":"AAAA,8BAA8B;;;;;AAC9B;AAAA;AACA;;;AAEO,SAAS;IACd,uCAAuC;IACvC,MAAM,cAAc,IAAA,0IAAO;IAE3B,OAAO,IAAA,+LAAkB,sUAGvB;QACE,SAAS;YACP,MAAM,KAAI,IAAY;gBACpB,OAAO,CAAC,MAAM,WAAW,EAAE,GAAG,CAAC,OAAO;YACxC;YACA,MAAM,KAAI,IAAY,EAAE,KAAa,EAAE,OAAsB;gBAC3D,IAAI;oBACF,CAAC,MAAM,WAAW,EAAE,GAAG,CAAC;wBAAE;wBAAM;wBAAO,GAAG,OAAO;oBAAC;gBACpD,EAAE,OAAO,OAAO;gBACd,uDAAuD;gBACvD,8CAA8C;gBAChD;YACF;YACA,MAAM,QAAO,IAAY,EAAE,OAAsB;gBAC/C,IAAI;oBACF,CAAC,MAAM,WAAW,EAAE,MAAM,CAAC;wBAAE;wBAAM,GAAG,OAAO;oBAAC;gBAChD,EAAE,OAAO,OAAO;gBACd,0DAA0D;gBAC1D,8CAA8C;gBAChD;YACF;QACF;IACF;AAEJ","debugId":null}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ckhme/my-workflow-app/app/layout.tsx"],"sourcesContent":["// in app/layout.tsx\nimport './globals.css'\nimport { Inter } from 'next/font/google'\nimport SignOutButton from '@/app/components/SignOutButton'\nimport Link from 'next/link'\nimport { createClient } from '@/utils/supabase/server'\nimport { ThemeProvider } from '@/app/components/ThemeProvider'\nimport ThemeToggleButton from '@/app/components/ThemeToggleButton'\n\nconst inter = Inter({ subsets: ['latin'] })\n\nexport const metadata = {\n  title: 'CadetFlow',\n  description: 'Approval workflow application',\n}\n\nexport default async function RootLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n\n  // ... (all your user and logo logic remains the same) ...\n  const supabase = createClient()\n  const { data: { user } } = await supabase.auth.getUser()\n  let canManage = false\n  let isCommandantStaff = false\n  \n  let logoText = \"CadetFlow\";\n  let logoColor = \"text-indigo-600 hover:text-indigo-700\";\n\n  if (user) {\n    const { data: profile } = await supabase\n      .from('profiles')\n      .select(`\n        roles(can_manage_own_company_roster, can_manage_all_rosters, role_name),\n        company:companies(company_name)\n      `)\n      .eq('id', user.id)\n      .single()\n    \n    const roles = (profile as any)?.roles\n    const company = (profile as any)?.company \n\n    if (roles) {\n      if (roles.can_manage_own_company_roster || roles.can_manage_all_rosters) {\n        canManage = true\n      }\n      isCommandantStaff = roles.role_name === 'Commandant' || roles.role_name === 'Deputy Commandant'\n    }\n\n    if (isCommandantStaff || (roles?.role_name && roles.role_name.includes('TAC'))) {\n      logoText = \"TACFlow\";\n      logoColor = \"text-red-600 hover:text-red-700\";\n    } else if (company?.company_name === 'Battalion Staff') { \n      logoText = \"StaffFlow\";\n      logoColor = \"text-yellow-600 hover:text-yellow-700\";\n    }\n  }\n\n  return (\n    // 1. Add className=\"dark\" here\n    <html lang=\"en\" suppressHydrationWarning>\n      {/* 2. Remove bg-gray-50 and text-gray-900 from here */}\n      <body className={`${inter.className}`}>\n        {/* 3. Manually add dark mode to the header */}\n        <header className=\"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700\">\n          <nav className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n            \n            <div className=\"flex justify-between items-center h-16\">\n              \n              {/* Logo/Title */}\n              <div className=\"flex-shrink-0\">\n                <Link \n                  href=\"/\" \n                  className={`text-2xl font-bold ${logoColor} transition-colors`}\n                >\n                  {logoText}\n                </Link>\n              </div>\n\n              {/* Right Side Links & Button */}\n              <div className=\"flex items-center space-x-4\">\n                {isCommandantStaff && (\n                  <Link \n                    href=\"/reports/daily\" \n                    // 4. Add dark mode text color\n                    className=\"text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-indigo-600\"\n                  >\n                    Daily Reports\n                  </Link>\n                )}\n\n                {canManage && (\n                  <Link \n                    href=\"/manage\" \n                    // 5. Add dark mode text color\n                    className=\"text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-indigo-600\"\n                  >\n                    Manage Roster\n                  </Link>\n                )}\n                <SignOutButton />\n              </div>\n            </div>\n          </nav>\n        </header>\n\n        <main>\n          {children}\n        </main>\n      </body>\n    </html>\n  )\n}"],"names":[],"mappings":"AAAA,oBAAoB;;;;;;;;;AAGpB;AACA;AACA;;;;;;;AAMO,MAAM,WAAW;IACtB,OAAO;IACP,aAAa;AACf;AAEe,eAAe,WAAW,EACvC,QAAQ,EAGT;IAEC,0DAA0D;IAC1D,MAAM,WAAW,IAAA,2IAAY;IAC7B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IACtD,IAAI,YAAY;IAChB,IAAI,oBAAoB;IAExB,IAAI,WAAW;IACf,IAAI,YAAY;IAEhB,IAAI,MAAM;QACR,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM,SAC7B,IAAI,CAAC,YACL,MAAM,CAAC,CAAC;;;MAGT,CAAC,EACA,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;QAET,MAAM,QAAS,SAAiB;QAChC,MAAM,UAAW,SAAiB;QAElC,IAAI,OAAO;YACT,IAAI,MAAM,6BAA6B,IAAI,MAAM,sBAAsB,EAAE;gBACvE,YAAY;YACd;YACA,oBAAoB,MAAM,SAAS,KAAK,gBAAgB,MAAM,SAAS,KAAK;QAC9E;QAEA,IAAI,qBAAsB,OAAO,aAAa,MAAM,SAAS,CAAC,QAAQ,CAAC,QAAS;YAC9E,WAAW;YACX,YAAY;QACd,OAAO,IAAI,SAAS,iBAAiB,mBAAmB;YACtD,WAAW;YACX,YAAY;QACd;IACF;IAEA,OACE,+BAA+B;kBAC/B,8OAAC;QAAK,MAAK;QAAK,wBAAwB;kBAEtC,cAAA,8OAAC;YAAK,WAAW,GAAG,oJAAK,CAAC,SAAS,EAAE;;8BAEnC,8OAAC;oBAAO,WAAU;8BAChB,cAAA,8OAAC;wBAAI,WAAU;kCAEb,cAAA,8OAAC;4BAAI,WAAU;;8CAGb,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,0LAAI;wCACH,MAAK;wCACL,WAAW,CAAC,mBAAmB,EAAE,UAAU,kBAAkB,CAAC;kDAE7D;;;;;;;;;;;8CAKL,8OAAC;oCAAI,WAAU;;wCACZ,mCACC,8OAAC,0LAAI;4CACH,MAAK;4CACL,8BAA8B;4CAC9B,WAAU;sDACX;;;;;;wCAKF,2BACC,8OAAC,0LAAI;4CACH,MAAK;4CACL,8BAA8B;4CAC9B,WAAU;sDACX;;;;;;sDAIH,8OAAC,8IAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAMtB,8OAAC;8BACE;;;;;;;;;;;;;;;;;AAKX","debugId":null}}]
}