{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ckhme/my-workflow-app/app/report/%5Bid%5D/page.tsx"],"sourcesContent":["// in app/report/[id]/actions.ts\r\n'use server'\r\n\r\nimport { createClient } from '@/utils/supabase/server'\r\nimport { revalidatePath } from 'next/cache'\r\n\r\n/**\r\n * Server action to pull a completed report.\r\n * This calls the 'public.pull_report' SQL function.\r\n */\r\nexport async function pullReportAction(reportId: string, comment: string) {\r\n  'use server'\r\n  \r\n  const supabase = createClient()\r\n  \r\n  // Call the 'pull_report' SQL function\r\n  const { error } = await supabase.rpc('pull_report', {\r\n    p_report_id: reportId,\r\n    p_comment: comment\r\n  })\r\n\r\n  if (error) {\r\n    console.error('Error pulling report:', error.message)\r\n    // Send a user-friendly error back\r\n    return { error: `Action failed: ${error.message}` }\r\n  }\r\n\r\n  // When successful, refresh the data on all affected pages\r\n  revalidatePath(`/report/${reportId}`)\r\n  revalidatePath(`/ledger/[id]`, 'layout') // Refresh all ledgers\r\n  revalidatePath('/manage') // Refresh the roster\r\n  revalidatePath('/') // Refresh the dashboard\r\n\r\n  return { success: true }\r\n} "],"names":[],"mappings":"AAAA,gCAAgC;;;;;;AAGhC;AACA;;;;;AAMO,eAAe,iBAAiB,QAAgB,EAAE,OAAe;IAGtE,MAAM,WAAW,IAAA,2IAAY;IAE7B,sCAAsC;IACtC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,GAAG,CAAC,eAAe;QAClD,aAAa;QACb,WAAW;IACb;IAEA,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,yBAAyB,MAAM,OAAO;QACpD,kCAAkC;QAClC,OAAO;YAAE,OAAO,CAAC,eAAe,EAAE,MAAM,OAAO,EAAE;QAAC;IACpD;IAEA,0DAA0D;IAC1D,IAAA,+IAAc,EAAC,CAAC,QAAQ,EAAE,UAAU;IACpC,IAAA,+IAAc,EAAC,CAAC,YAAY,CAAC,EAAE,WAAU,sBAAsB;IAC/D,IAAA,+IAAc,EAAC,YAAW,qBAAqB;IAC/C,IAAA,+IAAc,EAAC,MAAK,wBAAwB;IAE5C,OAAO;QAAE,SAAS;IAAK;AACzB;;;IAxBsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ckhme/my-workflow-app/.next-internal/server/app/report/%5Bid%5D/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {pullReportAction as '607a3691583765ef76dac6787d745a4486557cba48'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}}]
}